# 設定とソース

**Configuration** タブは、Alchemy が何を探索し、そのインテリジェンスがどのように適用されるかを制御するためのコマンドセンターです。

## 1. デスクトップアプリの設定

RealTimeX Alchemy が正しく機能し、AI サービスにアクセスするには、**RealTimeX Desktop** 内に **Local App（ローカルアプリ）** として追加する必要があります。

1.  RealTimeX Desktop で、**Local Apps** に移動します。
2.  **Add Local App** をクリックします。
3.  以下の設定を貼り付けます。

```json
{
  "command": "npx",
  "args": [
    "@realtimex/realtimex-alchemy@latest",
    "--port",
    "3024"
  ]
}
```

これにより、Alchemy の最新バージョンが自動的に取得され、ポート 3024 で起動します。

## 2. ブラウザソース

Alchemy は以下のブラウザにて、クロスプラットフォームの探索をサポートしています。
-   **Chrome**: 複数のプロファイルをサポート。
-   **Microsoft Edge**: 複数のプロファイルをサポート。
-   **Safari**: (macOS のみ) フルディスクアクセス権限が必要です。
-   **Brave**: 複数のプロファイルをサポート。

### セットアップのヒント:
-   抽出エラーが発生する場合は、ブラウザが履歴ファイルを排他的にロックした状態で開いていないか確認してください。
-   macOS で Safari を探索する場合は、Alchemy アプリ（またはターミナル）にシステム設定で **「フルディスクアクセス」** が許可されていることを確認してください。

## 3. AI プロバイダー (デスクトップアプリで管理)

Alchemy 自体は AI プロバイダーのキーを管理して**いません**。代わりに、**RealTimeX SDK** を使用して、**RealTimeX Desktop** アプリケーションで設定されたプロバイダーにアクセスします。

-   **LLM プロバイダー**: デスクトップアプリ経由で管理（OpenAI、Anthropic、Ollama などをサポート）。
-   **埋め込み（Embedder）プロバイダー**: デスクトップアプリ経由で管理。

Alchemy が使用するモデルを変更するには、RealTimeX Desktop アプリのグローバル設定を更新してください。

## 4. エンジン設定

### 同期ウィンドウ
-   **Sync From**: Alchemy が履歴をどこまで遡って調査するかを決定します。
-   **Sync Frequency**: Miner がバックグラウンドで実行される頻度を制御します。

### インテリジェンス設定
-   **Blocked Tags**: 常に無視すべきキーワードやドメインを手動で定義します。
-   **ペルソナ (Persona)**: AI のスコアリングロジックを導く、アクティブラーニング・プロファイル（Boost/Dismiss）。

## 5. アカウント設定 (Supabase 接続)

-   **プロフィール**: 名前とアバターを管理します。
-   **Supabase 接続**: データベースを移動した場合は、**Supabase URL** と **Anon Public Key** を更新してください。
-   **データベース・マイグレーション**: セットアップ・ウィザード経由でスキーマを更新する際、**Supabase Access Token** の入力が求められます。
-   **サウンドと触覚**: 新規発見や AI アラートのオーディオフィードバックを切り替えます。

---

> [!TIP]
> Alchemy がシグナルのスコアリングを行わない場合は、**RealTimeX Desktop** のグローバル設定を確認し、AI プロバイダー（Ollama や OpenAI など）がアクティブで接続されているかを確認してください。
